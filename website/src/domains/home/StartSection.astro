---
import { BackPattern } from "@/ui/BackPattern";
import { button } from "@/ui/Button";
import { Image } from "astro:assets";
import blackWaveBackground from "@/assets/images/logo-background.svg";
import CompanyMarquee from "./CompanyMarquee.astro";
---

<script>
  import { animate, scroll } from "motion";

  const fadeOutUp = (selector: string) => {
    const element = document.querySelector(selector);
    if (element) {
      scroll(animate(element, { y: [0, -200], opacity: [1, 0] }), {
        target: element,
        offset: ["0 0.1", "0.5 0"],
      });
    }
  };
  fadeOutUp("#hero-body");

  const heroBackground = document.querySelector("#hero-background");
  if (heroBackground) {
    scroll(animate(heroBackground, { x: [0, 1000], scale: [1, 2] }), {
      target: heroBackground,
      offset: ["0 0", "1 0"],
    });
  }
</script>
<div class="absolute h-[100vh] -mt-header w-full overflow-hidden">
  <Image
    id="hero-background"
    class="w-full h-full object-cover overflow-hidden"
    src={blackWaveBackground}
    alt="black wave background"
  />
</div>

<section
  id="company-marquee-section"
  class="relative flex items-center pb-40 px-fl-md-xl pt-10 min-h-[calc(100vh-theme('spacing.header'))] overflow-x-clip"
>
  <div aria-hidden="true" class="-z-0 flex gap-12 absolute left-0 h-[300%] transform rotate-30 -mt-20">
    <div class="w-[1px] h-full bg-neutral-800"></div>
    <div class="w-[1px] h-full bg-neutral-800"></div>
  </div>
  <div class="container z-10 mx-auto h-full gap-fl-2xl flex-grow items-center">
    <div id="hero-body" class="flex flex-col items-center justify-center text-center">
      <!-- <BackPattern color="secondary" className="self-start">
        <div
          class="bg-black border border-solid border-secondary-400 text-white fl-text-step-0 p-fl-xs-md flex flex-col gap-8 items-start leading-[2]"
        >
          <p>
            Wir suchen unsere ersten Freelancer-Projekte. Sichern Sie sich <TextHighlight>
              konstengünstige
            </TextHighlight>
             Software-Entwicklung ohne Qualitätsabstriche.
          </p>
          <a href="#kontakt" class={button({ variant: "secondary" })}>Experten anfordern</a>
        </div>
      </BackPattern> -->
      <h1 id="hero-title" class="font-bold font-sans text-fl-4xl text-primary-200 leading-[1.2]">
        Drei Köpfe. Ein <span
          class="bg-gradient-to-r from-primary-200 via-primary-500 to-primary-100 text-transparent bg-clip-text animate-pulse"
          >Puls</span
        >.
      </h1>

      <p id="hero-description" class="text-fl-lg max-w-prose pt-fl-lg">
        Verwandt im echten Leben, eingespielt im Projekt. Wir sprechen Klartext, denken mit und liefern so,
        dass es alle verstehen.
      </p>
      <div id="hero-button" class="text-fl-base mt-fl-xl">
        <a href="#unsere-prinzipien" class={button({ size: "xl", increaseHitbox: true })}
          >Lerne uns besser kennen</a
        >
      </div>
      <div class="flex flex-wrap items-center justify-center gap-4 mt-fl-lg">
        <div
          class="border border-solid border-primary-900 bg-black/30 backdrop-blur-lg rounded-full px-4 py-2 text-primary-100"
        >
          Pragmatisch
        </div>
        <div
          class="border border-solid border-primary-900 bg-black/30 backdrop-blur-lg rounded-full px-4 py-2 text-primary-100"
        >
          Qualitätsbewusst
        </div>
        <div
          class="border border-solid border-primary-900 bg-black/30 backdrop-blur-lg rounded-full px-4 py-2 text-primary-100"
        >
          Kommunikativ
        </div>
        <div
          class="border border-solid border-primary-900 bg-black/30 backdrop-blur-lg rounded-full px-4 py-2 text-primary-100"
        >
          Verlässlich
        </div>
      </div>
    </div>
  </div>
</section>
<section>
  <CompanyMarquee />
</section>
